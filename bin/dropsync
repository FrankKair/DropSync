#!/usr/bin/env ruby
require 'dropsync'

unless ARGV.count == 3
	# TODO: Better description and --help
	puts "> Enter your access token, command (download or upload) and filename"
	raise "Wrong input arguments"
end

access_token, command, filename = ARGV[0], ARGV[1], ARGV[2]
dropsync = DropSync::Engine.new(access_token)

case command
	when 'download'
		dropsync.download(filename)
	when 'upload'
		dropsync.upload(filename)
	end